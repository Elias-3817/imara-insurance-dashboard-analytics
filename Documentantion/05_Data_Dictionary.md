# üìñ Data Dictionary & KPI Catalog

This document defines all key tables, columns, metrics, and DAX measures used in the project.
It ensures clarity for both technical stakeholders (developers, analysts) and business stakeholders (managers, executives).

## Table of contents

Table & Column Dictionary
Clients
Agents
Policies
Sales
Claims
Monthly_metrics
Agent_performance
Business KPI definition
Key DAX Measures (Power BI)


## Table & Column Dictionary
1. Clients Table
Purpose: Master table containing customer information and segmentation data.

Columns:

ClientID (Integer) - Unique identifier for each customer
Example: 230

Name (String) - Full customer name
Example: Phillip Wanjiku

DOB (Date) - Date of birth
Example: 1974-05-02

Age (Integer) - Age (derived from DOB)
Example: 51

Gender (String) - Male / Female / Unknown
Example: Male

Location (String) - City / Area
Example: Nakuru CBD

JoinDate (Date) - When customer joined
Example: 2024-10-01

Tier (String) - Bronze / Silver / Gold / Platinum
Example: Bronze

LifetimeValue (Decimal) - Total revenue generated by client
Example: 95,931.97

RiskProfile (String) - Low / Medium / High
Example: Medium


## 2. Agents Table
Purpose: Information about sales agents and their performance classification.

Columns:

AgentID (Integer) - Unique agent identifier
Example: 501


Name (String) - Full agent name
Example: Mary Wambui


HireDate (Date) - Agent hire date
Example: 2018-03-01


Region (String) - Assigned sales region
Example: Nakuru


PerformanceTier (String) - High / Medium / Low
Example: High


## 3. Policies Table
Purpose: Core table containing all policy information and status.

Columns:

PolicyID (String) - Unique policy identifier
Example: P-2041


ClientID (Integer) - Foreign Key ‚Üí Clients.ClientID
Example: 230

AgentID (Integer) - Foreign Key ‚Üí Agents.AgentID
Example: 501

PolicyType (String) - Life / Motor / Health / Property
Example: Motor

StartDate (Date) - Policy start date
Example: 2023-01-01

EndDate (Date) - Policy end date
Example: 2024-01-01

PremiumAmount (Decimal) - Premium value
Example: 25,000

Status (String) - Active / Lapsed / Expired / Cancelled
Example: Active

Channel (String) - Sales channel (Online / Branch / Agent)
Example: Online

PaymentStatus (String) - Paid / Late / Default
Example: Paid


RiskScore (Decimal) - Risk metric (0-1 scale)
Example: 0.72

OriginalPolicyID (String) - For renewals, points to original policy
Example: P-1000

RenewalNumber (Integer) - Count of renewals for this policy
Example: 2

BusinessType (String) - Individual / Corporate
Example: Individual

TransactionType (String) - New / Renewal / Endorsement
Example: Renewal

CoverageType (String) - TPO / Comprehensive / Third Party
Example: Comprehensive

VehicleAge (Integer) - Vehicle age (Motor policies only)
Example: 6

UsageType (String) - Personal / Commercial
Example: Personal

## 4. Sales Table
Purpose: Commission and sales transaction records.

Columns:

SaleID (Integer) - Unique sale/commission record
Example: 9021

PolicyID (String) - Foreign Key ‚Üí Policies.PolicyID
Example: P-2041

AgentID (Integer) - Foreign Key ‚Üí Agents.AgentID
Example: 501

CommissionAmount (Decimal) - Commission earned
Example: 3,000

SaleDate (Date) - Date of sale
Example: 2023-03-12

CommissionPaidFlag (Boolean) - 1 if paid, 0 if not
Example: 0

PolicyType (String) - Denormalized for reporting
Example: Motor

TransactionType (String) - New / Renewal / Endorsement
Example: New

BusinessType (String) - Individual / Corporate
Example: Individual

CommissionRate (Decimal) - Commission percentage (0.12 = 12%)
Example: 0.12

PaymentDate (Date) - When commission was paid
Example: 2023-03-26

DaysToPay (Integer) - Days from sale to payment
Example: 14

DaysOutstanding (Integer) - Days unpaid past due date
Example: 0

## 5. Claims Table
Purpose: Insurance claims information and processing status.

Columns:

ClaimID (String) - Unique claim identifier
Example: C-554

PolicyID (String) - Foreign Key ‚Üí Policies.PolicyID
Example: P-2041

ClaimDate (Date) - Date claim was filed
Example: 2024-02-12

ClaimAmount (Decimal) - Value of claim
Example: 180,000

ClaimStatus (String) - Pending / Approved / Rejected / Under Investigation
Example: Pending

FraudFlag (Boolean) - 1 if flagged as potential fraud
Example: 0

ClaimType (String) - Category of claim
Example: Accident

## 6. Monthly_Metrics Table
Purpose: Aggregated monthly performance metrics for reporting.

Columns:

Month (Date) - Reporting month (YYYY-MM format)
Example: 2024-08

PolicyType (String) - Policy type being aggregated
Example: Motor

PoliciesSold (Integer) - Number of policies sold in month
Example: 120

PremiumRevenue (Decimal) - Total premiums collected
Example: 3,000,000

NewBusiness (Integer) - Count of new business
Example: 80

Renewals (Integer) - Count of renewals
Example: 40

TPO_Count (Integer) - Count of Third Party Only sales
Example: 20

Comprehensive_Count (Integer) - Count of comprehensive sales
Example: 60

ClaimsCount (Integer) - Number of claims filed
Example: 12

ClaimsAmount (Decimal) - Total value of claims
Example: 450,000

AvgRiskScore (Decimal) - Average risk score across policies
Example: 0.43


7. Agent_Performance Table
Purpose: Aggregated agent performance metrics for dashboards.

Columns:

AgentID (Integer) - Foreign Key ‚Üí Agents.AgentID
Example: 501

Name (String) - Agent name (denormalized)
Example: Mary Wambui

Region (String) - Agent's assigned region
Example: Nakuru

PerformanceTier (String) - High / Medium / Low
Example: High

TotalPolicies (Integer) - Total policies sold by agent
Example: 320

TotalPremium (Decimal) - Sum of premium amounts
Example: 6,400,000

TotalCommission (Decimal) - Total commission paid
Example: 480,000

AvgPremium (Decimal) - Average premium per policy
Example: 20,000

CommissionRatio (Decimal) - Commission √∑ Premium ratio
Example: 0.075

NewBusiness (Integer) - New business count
Example: 210

Renewals (Integer) - Renewal count
Example: 110

RetentionRate (Decimal) - Renewals √∑ (Renewals + Lapsed)
Example: 0.88

TPO_Sales (Integer) - Third Party Only sales
Example: 45

Comprehensive_Sales (Integer) - Comprehensive coverage sales
Example: 120


## Business KPI Dictionary 

### Premium (KES)
Definition: The total value of all insurance policies sold, measured in Kenyan Shillings.
Why it matters: This is the company‚Äôs main source of revenue ‚Äî higher premiums mean more business coming in.
Formula: Add up the PremiumAmount from all active policies.

### Renewals
Definition: The number of existing policies that are extended after their expiry date.
Why it matters: Renewals show customer loyalty. A high number means clients are happy and stick around.
Formula: Count of policies where TransactionType = "Renewal".

### Retention Rate
Definition: The percentage of clients who keep their policies (renew) instead of leaving or letting them lapse.
Why it matters: Retaining a client is usually cheaper than finding a new one. High retention means stability.
Formula: (Renewed Policies √∑ Total Renewable Policies) √ó 100.

### Active Customers
Definition: Clients who currently hold an active policy.
Why it matters: Shows how many paying customers the company has at this moment.
Formula: Count of distinct ClientID with at least one Status = "Active" policy.

### Lapse Rate
Definition: The percentage of policies that stop because the customer did not renew.
Why it matters: A high lapse rate means lost revenue and poor client satisfaction.
Formula: (Lapsed Policies √∑ Total Policies) √ó 100.

### Open Claims
Definition: Claims that have been filed but are not yet resolved (still pending or under investigation).
Why it matters: Open claims represent money that might need to be paid soon.
Formula: Count of claims where ClaimStatus is ‚ÄúPending‚Äù or ‚ÄúUnder Investigation.‚Äù

### Loss Ratio
Definition: Compares how much the company pays out in claims to how much it earns in premiums.
Why it matters: If this ratio is above 100%, the company is paying more than it‚Äôs earning ‚Äî a big red flag for profitability.
Formula: (Approved Claim Amount √∑ Premiums Collected) √ó 100.

### Average Policy Sold
Definition: The average amount of premium earned from each policy sold.
Why it matters: Helps compare product sizes ‚Äî are agents selling small or large policies?
Formula: (Total Premium √∑ Number of Policies).

### Risky Clients
Definition: Customers who are likely to file claims, default on payments, or let their policy lapse ‚Äî based on risk scoring.
Why it matters: Too many risky clients increase costs and reduce profit.
Formula: Clients where RiskProfile = "High".

### High-Risk Delinquent Clients
Definition: The riskiest group ‚Äî clients flagged as high risk who are also late or defaulting on payments.
Why it matters: These clients are the most likely to cost the company money. They need special attention or restrictions.
Formula: Clients with RiskProfile = "High" AND PaymentStatus IN ("Late","Default").

### Lifetime Value (LTV)
Definition: The total amount of money a customer brings in over the entire time they stay with the company.
Why it matters: Shows how valuable a single client is. Companies use LTV to decide how much to spend on acquiring new customers.
Formula: Duration with company √ó Total premiums paid.

### Money at Risk
Definition: The total premium exposure from high-risk clients. Can be adjusted by their risk score (weighting).
Why it matters: This shows the ‚Äúworst-case scenario‚Äù if risky customers make claims or default.
Formula: Sum of PremiumAmount for High Risk active policies. Weighted version = Premium √ó RiskScore.

```DAX
-- Total Premiums
Total_Premiums = SUM(Policies[PremiumAmount])
```

```DAX
-- Claim Count
Claim_Count = COUNT(Claims[ClaimID])
```
```
-- Open Claims
Open_Claims = CALCULATE(COUNTROWS(Claims), Claims[ClaimStatus] IN {"Pending", "Under Investigation"})
```
```
-- Lapse Rate (policies lapsed / distinct policies)
Lapse_Rate = DIVIDE(
    CALCULATE(COUNTROWS(Policies), Policies[Status] = "Lapsed"),
    DISTINCTCOUNT(Policies[PolicyID]),
    0
)
```

```
-- Loss Ratio (Approved claims / Total Premiums)
Loss_Ratio = DIVIDE(
    CALCULATE(SUM(Claims[ClaimAmount]), Claims[ClaimStatus] = "Approved"),
    [Total_Premiums],
    0
)
```

```
-- Premium Earned for the reporting period (pro-rate by active days)
Premium_Earned = 
SUMX(
    Policies,
    VAR StartDate = Policies[StartDate]
    VAR EndDate = Policies[EndDate]
    VAR PolicyPremium = Policies[PremiumAmount]
    VAR TotalDays = DATEDIFF(StartDate, EndDate, DAY) + 1
    VAR PeriodStart = MIN('DateTime'[Date])
    VAR PeriodEnd = MAX('DateTime'[Date])
    VAR OverlapStart = MAX(StartDate, PeriodStart)
    VAR OverlapEnd = MIN(EndDate, PeriodEnd)
    VAR ActiveDays = MAX(0, DATEDIFF(OverlapStart, OverlapEnd, DAY) + 1)
    RETURN DIVIDE(PolicyPremium * ActiveDays, TotalDays, 0)
)
```

```
-- Active Customers: distinct clients who currently have at least one active policy
Active_Customers = 
CALCULATE(
    DISTINCTCOUNT(Policies[ClientID]),
    FILTER(Policies, Policies[Status] = "Active")
)
```

```
-- Active Clients % (Active / Total)
Active_Clients_Pct = DIVIDE([Active_Customers], DISTINCTCOUNT(Clients[ClientID]), 0)
```

```
-- Average Lifetime Value
Average_Lifetime_Value = AVERAGE(Clients[LifetimeValue])
```

```
-- High-Risk Delinquent Clients
HighRisk_Delinquent_Clients = 
CALCULATE(
  DISTINCTCOUNT(Policies[ClientID]),
  FILTER(
    Policies,
    (Policies[PaymentStatus] = "Late" || Policies[PaymentStatus] = "Default")
      && RELATED(Clients[RiskProfile]) = "High"
  )
)
```

```
-- Money At Risk (Active Premiums for High Risk clients)
MoneyAtRisk_ActivePremiums = 
CALCULATE(
  SUM(Policies[PremiumAmount]),
  FILTER(
    Policies,
    Policies[Status] = "Active" && RELATED(Clients[RiskProfile]) = "High"
  )
)
```

```
-- Money At Risk (Weighted by RiskScore)
MoneyAtRisk_Weighted = 
SUMX(
  FILTER(Policies, Policies[Status] = "Active" && RELATED(Clients[RiskProfile]) = "High"),
  Policies[PremiumAmount] * Policies[RiskScore]
)
```

```
-- Renewals Due in next 30 days
Renewals_due_30 = CALCULATE(
    COUNTROWS(Policies),
    FILTER(Policies, Policies[EndDate] > TODAY() && Policies[EndDate] <= TODAY() + 30)
)
```

```
-- Average days to pay commission
Average_days_to_pay = AVERAGE('Sales'[DaysToPay])
```

```
-- Total Unpaid Commissions
Total_Unpaid_Commissions = CALCULATE(SUM('Sales'[CommissionAmount]), 'Sales'[CommissionPaidFlag] = 0)
```

```
-- Primary Agent Name for a client (first agent who sold them)
PrimaryAgentName_Measure =
VAR CurrentClient = SELECTEDVALUE(Clients[ClientID])
VAR FirstAgentID =
    CALCULATE(
        FIRSTNONBLANK(Policies[AgentID], 1),
        Policies[ClientID] = CurrentClient
    )
RETURN
LOOKUPVALUE(Agents[Name], Agents[AgentID], FirstAgentID)
```



